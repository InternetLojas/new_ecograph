{"version":3,"sources":["geral.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"custom.js","sourcesContent":["/*-----------------------------------------------------------------------------------*/\r\n/*  controla o formulário de busca\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction SearchVerifica(){\r\n    var strMensagem;\r\n    strMensagem = '';\r\n    if (document.search.keyword.value.length < 4) {\r\n        strMensagem = strMensagem + '\\n Por favor informe no mínimo quatro caracteres.';\r\n    }\r\n    if (document.search.keyword.value === \"Código ou nome do produto\") {\r\n        strMensagem = strMensagem + '\\n Para efetivar a busca o campo pesquisa dever ser preenchido com no mínimo quatro caracteres.'\r\n    }\r\n    if (strMensagem !== '') {\r\n        alert(strMensagem);\r\n        return false;\r\n    } else {\r\n        document.search.submit();\r\n    }\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  buscar endereço do cep se existe - quando o usuario informa cep na modal tipo de conta\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction EnderecoCEP() {\r\n    var whoo = \"formtipoconta\";\r\n    $('#mensagem_' + whoo).html('');\r\n    $('#info_' + whoo).html('');\r\n    if ($.trim($(\"#postcode\").val()) !== \"\") {\r\n        CEP = $.trim($(\"#postcode\").val());\r\n\r\n        $('#mensagem_' + whoo).removeClass('alert alert-warning');\r\n        $('#info_' + whoo).removeClass('alert alert-info');\r\n        // $.getScript(\"http://cep.republicavirtual.com.br/web_cep.php?formato=javascript&cep=\" + CEP.replace(\"-\", \"\"), function()\r\n        $.get('http://viacep.com.br/ws/'+CEP+'/json/',function(result){\r\n            console.log(result.logradouro);\r\n            /*\r\n             *\r\n             * \"cep\": \"90810-150\",\r\n             \"logradouro\": \"Avenida Jacuí\",\r\n             \"complemento\": \"\",\r\n             \"bairro\": \"Cristal\",\r\n             \"localidade\": \"Porto Alegre\",\r\n             \"uf\": \"RS\",\r\n             \"ibge\": \"4314902\"\r\n             * */\r\n            if (result.erro) {\r\n                alert(\"Endereço não encontrado para o cep: \" + CEP);\r\n                $(\"#postcode\").focus();\r\n            } else {\r\n                $('#street').val(result.logradouro);\r\n                $('#suburb').val(result.bairro);\r\n                $('#city').val(result.localidade);\r\n                $('#state').val(result.uf);\r\n                var url = $('#' + whoo).attr('action');\r\n                ValidaTipoConta(whoo, url);\r\n            }\r\n\r\n            //var longstring = result.address;\r\n            //var street = longstring.split(\" - \");\r\n            //$(\"#street\").val(unescape(street[0]));\r\n            //$(\"#suburb\").val(unescape(result.district));\r\n            //$(\"#city\").val(unescape(result.city));\r\n            //$(\"#state\").val(unescape(result.state));\r\n            var url = $('#' + whoo).attr('action');\r\n            ValidaTipoConta(whoo, url);\r\n        });\r\n    } else {\r\n        $('#mensagem_' + whoo).addClass('alert alert-warning');\r\n        $('#mensagem_' + whoo).html('ERRO!');\r\n        $('#mensagem_' + whoo).delay(2000).fadeOut(500);\r\n        $('#info_' + whoo).addClass('alert alert-info');\r\n        $('#info_' + whoo).html('<p class=\"text-center\">Por favor! Informe um endereço postal pertinente.</p>');\r\n        $('#' + whoo).css({\r\n            opacity: 1\r\n        });\r\n        $(\"#postcode\").focus();\r\n    }\r\n}\r\n\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  verifica se dados postados para nova conta atende regras\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction ValidaTipoConta(whoo, URL) {\r\n///tipo de conta - recebe o id do formulario e sua url\r\n    var postcode = $('#postcode').val();\r\n    if (postcode === '') {\r\n//se o cep estiver vazio\r\n        $('#' + whoo).css({\r\n            opacity: 0.2\r\n        });\r\n        $('#mensagem_' + whoo).html('');\r\n        $('#info_' + whoo).html('');\r\n\r\n        $('#mensagem_' + whoo).addClass('alert alert-warning');\r\n        $('#mensagem_' + whoo).html('ERRO!');\r\n        $('#mensagem_' + whoo).fadeOut(800, function() {\r\n            $('#enviando_' + whoo).delay(1000).fadeOut(500);\r\n            $('#info_' + whoo).addClass('alert alert-warning');\r\n            $('#info_' + whoo).html('<p class=\"text-center\">Por favor! Informe um endereço postal pertinente.</p>');\r\n            $('#postcode').focus();\r\n        });\r\n    } else {\r\n//se estiver ok\r\n        $('#' + whoo).css({\r\n            opacity: 0.2\r\n        });\r\n        $('#mensagem_' + whoo).html('');\r\n        $('#info_' + whoo).html('');\r\n        var formulario = $('#' + whoo).serializeArray();\r\n        ///encaminha os dados\r\n        $.post(URL, formulario, function(data) {\r\n            $('#enviando_' + whoo).show();\r\n            var obj = JSON.parse(data);\r\n            if (obj.status === 'fail') {\r\n                //se houver falha\r\n                $('#mensagem_' + whoo).addClass('alert alert-warning');\r\n                $('#mensagem_' + whoo).html('ERRO!');\r\n                $('#mensagem_' + whoo).fadeOut(800, function() {\r\n                    $('#enviando_' + whoo).delay(1000).fadeOut(500);\r\n                    var li = '';\r\n                    obj.erro.forEach(function(entry) {\r\n                        li += '<li>' + entry + '</li>';\r\n                    });\r\n                    $('#info_' + whoo).removeClass('alert alert-info');\r\n                    $('#info_' + whoo).html('<ul>' + li + '</ul>');\r\n                    $('#info_' + whoo).css('display', 'block');\r\n                    $('#' + whoo).css({\r\n                        opacity: 1\r\n                    });\r\n                    $('#info_' + whoo).delay(2000).fadeOut(400);\r\n                });\r\n            } else {\r\n                ///se enviar e estiver ok\r\n                $('#' + whoo).css({\r\n                    opacity: 1\r\n                });\r\n                $('#enviando_' + whoo).delay(1000).fadeOut(500);\r\n                $('#mensagem_' + whoo).removeClass('alert alert-warning');\r\n                $('#mensagem_' + whoo).addClass('alert alert-success');\r\n                $('#mensagem_' + whoo).html('<p class=\"text-center\">SUCESSO! Dados validados corretamente.</p>');\r\n                $('#mensagem_' + whoo).delay(1200).fadeOut(800, function() {\r\n                    $('#info_' + whoo).html(obj.info);\r\n                });\r\n                $('#info_' + whoo).delay(1200).fadeOut(400, function() {\r\n                    $('#mensagem_' + whoo).html('');\r\n                    $('#info_' + whoo).removeClass('alert alert-info');\r\n                    $('#info_' + whoo).html('');\r\n                    $('#info_' + whoo).addClass('alert alert-info');\r\n                    $('#' + whoo).attr('action', obj.loadurl);\r\n                    $('#info_' + whoo).html('<p class=\"text-center\">Aguarde finalizando o cadastro e redirecionando ...</p>');\r\n                    $('#info_' + whoo).fadeIn(800);\r\n                    $('#info_' + whoo).delay(1000).fadeOut(400, function() {\r\n                        $('#' + whoo).submit();\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  verifica se os dados postados para criar nova conta estão corretos\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction CheckCadastro() {\r\n///encaminha os dados\r\n    var whoo = 'cadastro';\r\n    $('#concorde').css('display', 'none');\r\n    $('#' + whoo).css({\r\n        opacity: 0.2\r\n    });\r\n    $('#mensagem_' + whoo).html('');\r\n    $('#info_' + whoo).html('');\r\n    var formulario = $('#' + whoo).serializeArray();\r\n    var URL = $('#' + whoo).attr('action');\r\n    ///encaminha os dados\r\n    $.post(URL, formulario, function(data) {\r\n        $('#enviando_' + whoo).show();\r\n        var obj = JSON.parse(data);\r\n        if (obj.status === 'fail') {\r\n            $('#enviando_' + whoo).delay(3000).fadeOut(500);\r\n            var li = '';\r\n            obj.erro.forEach(function(entry) {\r\n                li += '<li>' + entry + '</li>';\r\n            });\r\n            $('#info_' + whoo).removeClass('alert alert-info');\r\n            $('#info_' + whoo).html('<ul>' + li + '</ul>');\r\n            $('#info_' + whoo).css('display', 'block');\r\n            $('#' + whoo).css({\r\n                opacity: 1\r\n            });\r\n            //mostra os erros contidos no formulário de cadastro\r\n            $(\"#modal-erros\").modal('show');\r\n            return false;\r\n        } else {\r\n////se enviar estiver ok\r\n            $('#' + whoo).css({\r\n                opacity: 1\r\n            });\r\n            $('#enviando_' + whoo).delay(1000).fadeOut(500);\r\n            $('#mensagem_' + whoo).removeClass('alert alert-warning');\r\n            $('#mensagem_' + whoo).addClass('alert alert-success');\r\n            $('#mensagem_' + whoo).html('SUCESSO! Dados validados corretamente.');\r\n            $('#mensagem_' + whoo).fadeIn(800);\r\n            $('#mensagem_' + whoo).delay(1200).fadeOut(800, function() {\r\n                $('#info_' + whoo).html(obj.info);\r\n            });\r\n            $('#info_' + whoo).delay(1200).fadeOut(400, function() {\r\n                $('#mensagem_' + whoo).html('');\r\n                $('#info_' + whoo).removeClass('alert alert-info');\r\n                $('#info_' + whoo).html('');\r\n                $('#mensagem_' + whoo).addClass('alert alert-sucess');\r\n                $('#mensagem_' + whoo).html('Aguarde finalizando o cadastro e redirecionando ...');\r\n                $('#mensagem_' + whoo).fadeIn(800);\r\n                delay(1000).fadeOut(400, function() {\r\n                    window.location = obj.loadurl;\r\n                });\r\n            });\r\n            return false;\r\n        }\r\n    });\r\n}\r\n/*\r\n ******************************************************\r\n *** fim script para verificar dados para cadastro ****\r\n ******************************************************\r\n */\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  controla de frente e verso de cartões\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction FrenteVerso(id){\r\n    var frente_display = $('#frente_'+id);\r\n    var verso_display = $('#verso_'+id);\r\n    if( frente_display.is(':visible') ) {\r\n        // está visível, faça algo\r\n        verso_display.css('display','block');\r\n        frente_display.css('display','none');\r\n        $('#label_'+id).text('Frente');\r\n    } else {\r\n        // não está visível, faça algo\r\n        verso_display.css('display','none');\r\n        frente_display.css('display','block');\r\n        $('#label_'+id).text('Verso');\r\n    }\r\n\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  Calculadora\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction Calculadora(current_id, categoria) {\r\n\r\n    $('#escolhido').val(current_id);\r\n    $('#nome_categoria').val(categoria);\r\n    $('#modal_escolhido').html(categoria);\r\n    var URL = $('#calc').attr('action');\r\n    orc_categoria_id = $('#categ_pai').val();\r\n    orc_categoria_nome = $('#categ_nome_pai').val();\r\n    $('#categ_selecionada').val(categoria);\r\n    var formulario = $('#calc').serializeArray();\r\n    $.post(URL, formulario, function(data) {\r\n        var obj = JSON.parse(data);\r\n        console.log(obj);\r\n        $('#lista_formato').html();\r\n        $('#lista_cores').html();\r\n        $('#lista_papel').html();\r\n        $('#lista_enoblecimento').html();\r\n        $('#lista_acabamento').html();\r\n        //$('#naocadastrado').css.('display','none');\r\n        $('#lista_preco').html();\r\n        $('#orc_categoria_id').val(orc_categoria_id);\r\n        $('#orc_categoria_nome').val(orc_categoria_nome);\r\n        $('#tabela').slideUp('slow');\r\n        $('#tabela').slideDown('slow', function() {\r\n            $('#tabela').fadeIn(800, function() {\r\n                $('#nome_escolhido').html(categoria);\r\n                $('#img_escolhida_thumb').html(categoria);\r\n                var imagem = obj.imagem.image;\r\n                $.each(obj, function(key, val) {\r\n                    if (key === 'processamento' && val.erro !== '') {\r\n                        $('#info_calculadora').addClass('alert alert-warning');\r\n                        $('#info_calculadora').html(obj.informacao.info);\r\n                        $('#tabela').css('display', 'none');\r\n                        $('#naocadastrado').css('display','block');\r\n                        //$('#especificacoes_envio').delay(3000).fadeOut(400,function(){\r\n                        $('#especificacoes_selecionada').delay(1500).fadeOut(400);\r\n                        $('#lista_perfis').delay(1600).fadeOut(400);\r\n                        $('#orcamento_gerado').delay(1700).fadeOut(400);\r\n                        $('#info_calculadora').html();\r\n                        $('#cupom_frete').delay(2000).fadeOut(400);\r\n                        $('#resultado').delay(2100).fadeOut(400);\r\n                        $('#naocadastrado').delay(3000).fadeOut(400,function(){\r\n                            $('#info_calculadora').html('<p class=\"alert\">Escolha outra categoria para continuar</p>');\r\n                        });\r\n                        $('#info_calculadora').delay(4000).fadeOut(400);\r\n                        // });\r\n                        //$('#especificacoes_envio').fadeOut.(600);\r\n                        return false;\r\n                    } else {\r\n                        if (key === 'back_menu') {\r\n                            back_menu = val.background;\r\n                        }\r\n                        if (key === 'descricao') {\r\n                            $('#descricao_categoria').html(val.desc);\r\n                        }\r\n                        if (key === 'parans') {\r\n                            GeraLista(obj.parans, current_id);\r\n                        }\r\n                        if (key === 'qtd') {\r\n                            var item = '';\r\n                            $.each(obj.qtd, function(k, qtd) {\r\n                                item += GeraQtd(k, qtd, imagem);\r\n                            });\r\n                            $('#lista_preco').html('<ul id=\"list_preco\" class=\\\"list-unstyled\\\">' + item + '</ul>');\r\n                        }\r\n                    }\r\n                });\r\n\r\n                $('.listview .list.fg-white').each(function(i) {\r\n                    $(this).attr('class', 'list bg-gray fg-white btn-detalhes');\r\n                });\r\n                $('#especificacoes_selecionada').slideUp('slow', function() {\r\n                    $('#all_produtos').fadeIn('slow');\r\n\r\n                });\r\n                $('#lista_perfis').slideUp('slow');\r\n                $('#orcamento_gerado').slideUp('slow');\r\n            });\r\n        });\r\n    });\r\n}\r\n\r\n\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  GeraLista\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction GeraLista(parametros, category_id) {\r\n    var cat_id = $('#orc_categoria_id').val();\r\n    var last = '';\r\n    $.each(parametros, function(tipo, parans) {\r\n        var radio = '';\r\n        var ul = '';\r\n        $.each(parans, function(k, item) {\r\n            on_click_troca = 'TrocaCheked(\\'' + tipo + '\\',' + k + ',\\''+ category_id +'\\');';\r\n\r\n            if (tipo !== 'acabamento') {\r\n                on_click_calcula = 'CalculaPreco(\\'' + category_id + '\\',' + k + ');';\r\n                radio += '<li>\\n<input type=\\\"radio\\\" name=\\\"' + tipo + '\\\" id=\\\"' + tipo + '_' + k + '\\\" onclick=\\\"' + on_click_troca + '\" value=\\\"' + item.id + '\\\" />\\n\\n\\\r\n         <span class=\\\"afasta\\\" id=\\\"param_' + tipo + '_' + k + '\\\">' + item.nome + '</span>\\n</li>\\n';\r\n                $('#lista_' + tipo).html('<ul id=\"list_' + tipo + '\" class=\\\"list-unstyled\\\">\\n' + radio + '\\n</ul>');\r\n            } else {\r\n\r\n                $.each(item, function(e,item_a) {\r\n                    on_click_calcula = 'CalculaPreco(\\'' + category_id + '\\',' +k+e + ');';\r\n                    valores = item_a.valores;\r\n                    radio += '<li>\\n<input type=\\\"radio\\\" name=\\\"' + tipo + '\\\" id=\\\"' + tipo + '_'+k + e + '\\\" onclick=\\\"' + on_click_calcula + '\" value=\\\"' + valores.id + '\\\"  />\\n\\n\\\r\n                                <span class=\\\"afasta\\\" id=\\\"param_' + tipo + '_'+k + e + '\\\">' + valores.nome + '</span>\\n</li>\\n';\r\n                });\r\n                ul += '<ul id=\"list_' + tipo + k + '\" class=\\\"list-unstyled hide\\\">\\n' + radio + '\\n</ul>';\r\n                radio = '';\r\n                $('#lista_' + tipo).html(ul);\r\n            }\r\n            last = k;\r\n        });\r\n        if (tipo === 'acabamento') {\r\n            $('#list_acabamento'+last).removeClass('hide');\r\n        }\r\n\r\n\r\n    });\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  GeraQtd\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction GeraQtd(y, qtd, imagem) {\r\n    var valor = '';\r\n    valor += '<li>\\n<input type=\\\"radio\\\" name=\\\"pacote\\\" id=\\\"pacote_' + y + '\\\" onclick=\\\"SetaEscolhas(\\'' + y + '\\',\\'' + imagem + '\\')\\\" value=\\\"\\\" disabled />\\n\\\r\n        <span class=\\\"afasta\\\" id=\\\"qtd_' + y + '\\\">' + qtd.unidade + ' un</span>\\n\\\r\n        <span class=\\\"right afasta text-danger\\\" id=\\\"preco_' + y + '\\\"></span>\\n\\n\\\r\n        <div class=\\\"clearfix\\\"></div>\\n\\n\\\r\n        </li>\\n';\r\n    return valor;\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  TrocaCheked\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction TrocaCheked(whoo, localizador, categoria) {\r\n    $('#resultado').fadeOut('fast');\r\n    $('#especificacoes_selecionadas').slideDown('slow');\r\n    var valor = $('#' + whoo + '_' + localizador).val();\r\n    var param = null;\r\n    if (whoo === 'formato') {\r\n        param = $('#param_formato_' + localizador).text();\r\n        $('#formato_nome').val(param);\r\n        $('#formato_id').val(valor);\r\n        $('ul#list_cores li').each(function(c) {\r\n            //$('#cores_' + c).attr(\"checked\", false);\r\n            $('#cores_' + c).removeAttr(\"checked\");\r\n        });\r\n        $('ul#list_papel li').each(function(p) {\r\n            //$('#papel_' + p).attr(\"checked\", false);\r\n            $('#papel_' + p).removeAttr(\"checked\");\r\n        });\r\n        $('ul#list_enoblecimento li').each(function(e) {\r\n            //$('#enoblecimento_' + e).attr(\"checked\", false);\r\n            $('#enoblecimento_' + e).removeAttr(\"checked\");\r\n            $('ul#list_acabamento'+ e).addClass('hide');\r\n        });\r\n\r\n        $('ul#list_preco li').each(function(i) {\r\n            $('#pacote_' + i).removeAttr(\"checked\");\r\n            $('span#preco_' + i).text('');\r\n            $('span#preco_' + i).addClass('hide');\r\n        });\r\n\r\n    }\r\n    if (whoo === 'cores') {\r\n        param = $('#param_cores_' + localizador).text();\r\n        $('#cor_id').val(valor);\r\n        $('#cor_nome').val(param);\r\n        $('#orc_cor_id').val(valor);\r\n        $('#orc_cor_nome').val(param);\r\n        $('ul#list_papel li').each(function(i) {\r\n            $('#papel_' + i).attr(\"checked\", false);\r\n        });\r\n        $('ul#list_enoblecimento li').each(function(e) {\r\n            $('#enoblecimento_' + e).removeAttr(\"checked\");\r\n            $('ul#list_acabamento'+ e).addClass('hide');\r\n        });\r\n        $('ul#list_preco li').each(function(i) {\r\n            $('#pacote_' + i).removeAttr(\"checked\");\r\n            $('span#preco_' + i).text('');\r\n            $('span#preco_' + i).addClass('hide');\r\n        });\r\n\r\n    }\r\n    if (whoo === 'papel') {\r\n        param = $('#param_papel_' + localizador).text();\r\n        $('#papel_id').val(valor);\r\n        $('#papel_nome').val(param);\r\n        if (categoria === '5') {\r\n            disabilita = false;\r\n            $('ul#list_enoblecimento li').each(function(e) {\r\n\r\n                $('#enoblecimento_' + e).removeAttr(\"checked\");\r\n                $('ul#list_acabamento'+ e).addClass('hide');\r\n                if(valor === '1'){\r\n                    $('#enoblecimento_0').attr('disabled', true);\r\n                    $('#enoblecimento_1').attr('disabled', false);\r\n                    $('#enoblecimento_2').attr('disabled', false);\r\n                }\r\n                if(valor === '2'){\r\n                    $('#enoblecimento_0').attr('disabled', true);\r\n                    $('#enoblecimento_1').attr('disabled', false);\r\n                    $('#enoblecimento_2').attr('disabled', false);\r\n                }\r\n                if(valor === '3'){\r\n                    $('#enoblecimento_0').attr('disabled', false);\r\n                    $('#enoblecimento_1').attr('disabled', true);\r\n                    $('#enoblecimento_2').attr('disabled', false);\r\n                }\r\n            });\r\n\r\n        } else {\r\n            $('ul#list_enoblecimento li').each(function(e) {\r\n                $('#enoblecimento_' + e).removeAttr(\"checked\");\r\n            });\r\n        }\r\n        $('ul#list_preco li').each(function(i) {\r\n            $('#pacote_' + i).removeAttr(\"checked\");\r\n            $('span#preco_' + i).text('');\r\n            $('span#preco_' + i).addClass('hide');\r\n        });\r\n    }\r\n\r\n    if (whoo === 'enoblecimento') {\r\n        param = $('#param_enoblecimento_' + localizador).text();\r\n        $('#enobrecimento_id').val(valor);\r\n        $('#enobrecimento_nome').val(param);\r\n        $('#orc_enoblecimento_id').val(valor);\r\n        $('#orc_enoblecimento_nome').val(param);\r\n        ativo = '';\r\n        var acab_ativo = [];\r\n        var acab_desativo = [];\r\n        $('ul#list_enoblecimento li').each(function(e) {\r\n            //Check se há alguma opção selecionada\r\n            if($('#enoblecimento_'+e).is(':checked')){\r\n                ativo = $('#enoblecimento_'+e).val();\r\n                acab_ativo.push(ativo);\r\n            } else {\r\n                desativa = $('#enoblecimento_'+e).val();\r\n                acab_desativo.push(desativa);\r\n            }\r\n            $('ul#list_acabamento'+e+' li').each(function(a) {\r\n                $('#acabamento_' +e+a).removeAttr(\"checked\");\r\n            });\r\n        });\r\n        $('ul#list_acabamento'+acab_ativo[0]).removeClass('hide');\r\n        for (var i=0; i < acab_desativo.length; i++) {\r\n            $('ul#list_acabamento'+acab_desativo[i]).addClass('hide');\r\n        }\r\n        console.log(acab_desativo);\r\n        var valor_p = '';\r\n        $('ul#list_papel li').each(function(p) {\r\n            if($('#papel_' + p).is(':checked')){\r\n                valor_p = $('#papel_' + p).val();\r\n            }\r\n        });\r\n        $('ul#list_preco li').each(function(i) {\r\n            $('#pacote_' + i).removeAttr(\"checked\");\r\n            $('span#preco_' + i).text('');\r\n            $('span#preco_' + i).removeClass('hide');\r\n        });\r\n    }\r\n\r\n    if (whoo === 'acabamento') {\r\n        param = $('#param_acabamento_' + localizador).text();\r\n        $('#acabamento_id').val(valor);\r\n\r\n    }\r\n\r\n    /*$('#list_preco').each(function(i) {\r\n     $('#preco_' + i).text();\r\n     });*/\r\n    $('#orc_' + whoo + '_id').val(valor);\r\n    $('#orc_' + whoo + '_nome').val(param);\r\n    $('#especificacoes').slideUp('slow');\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  CalculaPreco\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction CalculaPreco(categoria, localizador) {\r\n    $('#resultado').fadeOut('fast');\r\n    acabamento_valor = $('#acabamento_' + localizador).val();\r\n    param = $('#param_acabamento_' + localizador).text();\r\n    $('#acabamento_nome').val(param);\r\n    $('#acabamento_id').val(acabamento_valor);\r\n    $('#orc_acabamento_id').val(acabamento_valor);\r\n    $('#orc_acabamento_nome').val(param);\r\n    //}\r\n    categoria_nome = $('#nome_escolhido').text();\r\n    $('#orc_subcategoria_id').val(categoria);\r\n    $('#orc_subcategoria_nome').val(categoria_nome);\r\n\r\n    url = $('#calculadora').attr('action');\r\n    $('#categ_selecionada').val(categoria);\r\n    //cor_id = $('#cores_'+localizador).val();\r\n    //cor_nome = $('#param_cores_'+localizador).html;\r\n    //$('#cor_id').val(cor_id);\r\n    //$('#cor_nome').val(cor_nome);\r\n    var formulario = $('#calculadora').serializeArray();\r\n    $.post(url, formulario, function(data) {\r\n        localizador = 0;\r\n        peso_selecionado = '';\r\n        if(data.status !=='erro'){\r\n            data.peso.forEach(function(entry) {\r\n                peso = parseFloat(entry);\r\n                peso_selecionado += '<input type=\"hidden\" name=\"peso_selecionado\" id=\"peso_selecionado_' + localizador + '\" value=\"' + peso + '\" />\\n';\r\n                $('#peso_selecionado').html(peso_selecionado);\r\n                //$('#peso_selecionado_'+locali)\r\n                localizador = localizador + 1;\r\n            });\r\n            localizador = 0;\r\n            data.preco.forEach(function(entry) {\r\n                valor = parseFloat(entry).toFixed(2);\r\n                $('#pacote_' + localizador).val(valor);\r\n                $('#preco_' + localizador).html('<strong>R$ ' + valor.replace(\".\", \",\") + '</strong>');\r\n                $('#pacote_' + localizador).attr('disabled', false);\r\n                localizador = localizador + 1;\r\n            });\r\n        } else {\r\n            //alert('aquio');\r\n            return Calculadora();\r\n        }\r\n    });\r\n}\r\n\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  PERSONALIZAR\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction PersonalizarDesenho(guest) {\r\n    $('#cupom_frete').css('display', 'none');\r\n    $('#resultado').css('display', 'none');\r\n    $('#btn-opcoes').css('display', 'none');\r\n    $('#btn-encerrar').attr('title','Encontre o desenho que mais lhe convem');\r\n    $('#btn-imprimir').css('display', 'none');\r\n    $('#btn-personalizar').css('display', 'none');\r\n    $('#btn-enviar').css('display', 'none');\r\n    $('#lista_perfis').css('display', 'block');\r\n    produto = $('#orc_produto').val();\r\n    $('#cupom_frete').attr('data-acao', 'personalizar');\r\n    if (guest === '1') {//ESTÁ LOGADO\r\n        $('#logar').slideUp('fast');\r\n        var action = 'produtos//portfolio/'+produto;\r\n        $('#form_orcamento').attr('action', action);\r\n        $('#form_orcamento').attr('method', 'post');\r\n        EscolhaPerfil();\r\n    } else {\r\n        $('#logar').slideDown('fast');\r\n    }\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  SetaEscolhas\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction SetaEscolhas(localizador, imagem) {\r\n    $('#especificacoes_selecionadas').slideDown('slow');\r\n    $('#cupom_frete').css('display', 'none');\r\n    $('#resultado').css('display', 'none');\r\n    $('logar').css('display', 'none');\r\n    var qtd = $('#qtd_' + localizador).text();\r\n    var peso = $('#peso_selecionado_' + localizador).val();\r\n    //seta o valor declarado para o frete grátis\r\n    vl_declarado = $('#pacote_' + localizador).val();\r\n    //seta o valor declarado para controlar o frete grátis\r\n    $('#vl_declarado').val(vl_declarado);\r\n\r\n    var preco = $('#preco_' + localizador).text();\r\n    var produto = $('#nome_categoria').val();\r\n    //var qt_vl = qtd + \" - \" + preco;\r\n    $('#orc_peso').val(peso);\r\n    $('#orc_pacote_qtd').val(qtd);\r\n    $('#orc_pacote_valor').val(preco);\r\n    $('#especificacoes').html();\r\n    var cor = $('#cor_nome').val();\r\n    //var enoblecimento = $('#enoblecimento_nome').val();\r\n    var formato = $('#formato_nome').val();\r\n    var papel = $('#papel_nome').val();\r\n    var enobrecimento = $('#enobrecimento_nome').val();\r\n    var acabamento = $('#acabamento_nome').val();\r\n    var escolhas_finais = {\r\n        \"Produto\": produto,\r\n        \"Formato\": formato,\r\n        \"Cores\": cor,\r\n        \"Material\": papel,\r\n        \"Enobrecimento\": enobrecimento,\r\n        \"Acabamento\": acabamento,\r\n        \"Qtd\": qtd,\r\n        \"Valor\": preco\r\n    };\r\n    var li = '';\r\n    $.each(escolhas_finais, function(item, valor) {\r\n        li += '<li>' + item + ': ' + valor + '</li>';\r\n    });\r\n    $('#lista_especificacao').html(li);\r\n    SetaImagem(imagem);\r\n\r\n    var token = $('#especificacoes_envio').attr('data-token');\r\n    $('.token').val(token);\r\n    $('#cupom_frete').slideDown('slow');\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  SetaImagem\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction SetaImagem(imagem) {\r\n    $('#image_escolhida').attr('src', imagem);\r\n    $('#image_finalizacao').attr('src', imagem);\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  EscolhaPerfil\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction EscolhaPerfil() {\r\n    $('#info_perfis').removeClass('alert');\r\n    var categoria = $('#escolhido').val();\r\n    var url_modal = 'lista_perfis' + '/' + categoria;\r\n    $.getJSON(\r\n        url_modal,\r\n        function(data) {\r\n            console.log(data);\r\n            var div = '';\r\n            var button = '';\r\n            if (data.info !== 'erro') {\r\n                $.each(data, function(key, val) {\r\n                    div += '<div class=\"row\">';\r\n                    div += '<div class=\"col-md-12\">';\r\n                    $.each(val, function(k, item) {\r\n                        //alert(item.nome_perfil);\r\n                        button += '<div class=\"umquarto bg-dark perfil\">\\n\\\r\n                                        <a class=\"btn bg-dark fg-white no-radius link-perfil\" href=\"javascript:void(0)\" onclick=\"VerTemplate(\\'' + item.id + '\\', \\'' + item.nome_perfil + '\\')\"  title=\"Escolher o template para ' + item.nome_perfil + '\">\\n\\\r\n                                        <img title=\"' + item.nome_perfil + '\" src=\"' + item.logo_perfil + '\" width=\"100%\" class=\"\">\\n\\\r\n                                        <span class=\"text-medio\">' + item.nome_perfil + '</span>\\n\\\r\n                                        </a>\\n\\\r\n                                    </div>';\r\n                    });\r\n                    div += button + '</div></div>';\r\n                    button = '';\r\n                });\r\n                $('#lista_perfis').css('display', 'block');\r\n                $('#listview').html(div);\r\n                $('#info_perfis').addClass('alert');\r\n                $('#info_perfis').html('<p class=\"alert alert-info\">Escolha um perfil para a categoria selecionada.</p>');\r\n                $('#info_perfis').delay(3000).fadeOut(400);\r\n                $('#lista_perfis').fadeIn(800);\r\n                $('#ModalPerfil').modal('show');\r\n            } else {\r\n                $('#lista_perfis').css('display', 'block');\r\n                $('#listview').html();\r\n                $('#info_perfis').addClass('alert');\r\n                $('#info_perfis').html('<p class=\"alert alert-danger\">Ainda não existem perfis incorporados a essa categoria.</p>');\r\n                $('#info_perfis').delay(3000).fadeOut(400);\r\n                $('#lista_perfis').fadeIn(800);\r\n                $('#ModalPerfil').modal('show');\r\n            }\r\n        });\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  GerarOrcamento\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction GerarOrcamento() {\r\n    //$('#finalizacao').slideUp('fast');\r\n    $('#frete_orcamento').slideDown('slow');\r\n    $('#orc_vl_frete').val();\r\n    $('#orc_tipo_frete').val();\r\n    var tipo = null;\r\n    var form = document.correio;\r\n    var RadioFrete = form.vl_frete;\r\n    for (var i = 0; i < RadioFrete.length; i++) {\r\n        if (RadioFrete[i].checked) {\r\n            if (RadioFrete[i].id === \"frete_pac\") {\r\n                tipo = 'PAC';\r\n            } else {\r\n                tipo = 'SEDEX';\r\n            }\r\n            $('#orc_vl_frete').val(RadioFrete[i].value);\r\n            $('#orc_tipo_frete').val(tipo);\r\n        }\r\n    }\r\n    var whoo = 'form_orcamento';\r\n    var URL = 'orcamento_pdf.php';\r\n    $('#enviando_' + whoo).css('display', 'block');\r\n    $('#' + whoo).attr('action', URL);\r\n    $('#mensagem_' + whoo).addClass('infomsg alert');\r\n    $('#mensagem_' + whoo).html('Aguarde enquanto geramos seu orçamento...');\r\n    $('#mensagem_' + whoo).delay(2000).fadeOut(800, function() {\r\n        $('#' + whoo).submit();\r\n    });\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  VerTemplate\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction VerTemplate(id, nome) {\r\n    if (id === '') {\r\n        $('#ModalPerfil').modal('show');\r\n    }\r\n    $('#orc_id_perfil').val(id);\r\n    $('#orc_nome_perfil').val(nome);\r\n    produto = $('#orc_produto').val();\r\n    $('#ModalPerfil').modal('hide');\r\n    var action = 'produtos/portfolio/'+produto;\r\n    $('#form_orcamento').attr('action', action);\r\n    $('#form_orcamento').attr('method', 'post');\r\n    $('#mensagem_form_orcamento').addClass('alert alert-success');\r\n    $('#mensagem_form_orcamento').html('Aguarde enquanto redirecionamos...');\r\n    $('#mensagem_form_orcamento').delay(2000).fadeOut(800, function() {\r\n        $('#form_orcamento').submit();\r\n    });\r\n}\r\n\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  CalcularFrete\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction CalcularFrete() {\r\n    $('#lista_perfis').delay(2000).fadeOut(400, function() {\r\n        $('#frete_orcamento').css('display', 'block');\r\n    });\r\n}\r\n\r\n\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  Comprar\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction Comprar(produto_id) {\r\n    $('#produto_id').val(produto_id);\r\n    var URL = 'basket/adicionar';\r\n    var formulario = $('#basket').serializeArray();\r\n\r\n    $.post(URL, formulario, function(data) {\r\n        var obj = JSON.parse(data);\r\n        if (obj.status === 'success') {\r\n            $('#info_listagem').addClass('alert alert-success');\r\n            $('#info_listagem').html('<p class=\"fg-black\"><i class=\"icon-smiley on-left\"></i> Verificando dados para enviar para o seu carrinho, Por favor aguarde...</p>');\r\n            $('#para').html('carrinho');\r\n            $('#info_listagem').delay(3000).fadeOut(800, function() {\r\n                $('#modalAdicionando').modal('show');\r\n                //quando retornar o site vai para o carrinho de compras\r\n                return BasketSubmeter();\r\n            });\r\n        }\r\n    });\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  BasketSubmeter\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction BasketSubmeter() {\r\n    action_submeter = 'basket/listar.html';\r\n    $('#basket').attr('action', action_submeter);\r\n    $('#basket').attr('method', 'post');\r\n    $('#basket').submit();\r\n}\r\nfunction Editar(produto_id) {\r\n    $('#produto_id').val(produto_id);\r\n    var URL = 'basket/adicionar';\r\n    var formulario = $('#basket').serializeArray();\r\n    $.post(URL, formulario, function(data) {\r\n        var obj = JSON.parse(data);\r\n        if (obj.status === 'success') {\r\n            $('#info_listagem').addClass('alert alert-success');\r\n            $('#info_listagem').html('<p class=\"fg-black\"><i class=\"icon-smiley on-left\"></i> Verificando dados para enviar para a área de edição, Por favor aguarde...</p>');\r\n            $('#para').html('área de edição');\r\n            $('#modalAdicionando').modal('show');\r\n            $('#info_listagem').delay(3000).fadeOut(800, function() {\r\n                $('#modalAdicionando').modal('show');\r\n                //quando retornar o site vai para o carrinho de compras\r\n                return EditarSubmeter();\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  EditarSubmeter\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction EditarSubmeter() {\r\n    produto = $('#orc_produto').val();\r\n    action_submeter = 'editor/personalizar/'+produto;\r\n    $('#basket').attr('action', action_submeter);\r\n    $('#basket').attr('method', 'post');\r\n    $('#basket').submit();\r\n}\r\n\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  UploadValidar\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction UploadValidar(url) {\r\n    var formulario = $('#upload').serializeArray();\r\n\r\n    $.post(url, formulario, function(data) {\r\n        var obj = JSON.parse(data);\r\n        if (obj.status === 'success') {\r\n            $('#info_upload').removeClass('alert alert-danger');\r\n            $('#info_upload').addClass('alert alert-success');\r\n            $('#info_upload').html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> Verificando dados para enviar para o seu carrinho. Por favor aguarde...</p>');\r\n            //$('#para').html('carrinho');\r\n            //$('#modalAdicionando').modal('show');\r\n            $('#info_upload').delay(3000).fadeOut(800, function() {\r\n                return UploadSubmeter(obj.loadurl);\r\n            });\r\n        } else {\r\n            console.log(obj);\r\n            var li = '';\r\n            obj.erro.forEach(function(entry) {\r\n                li += '<li>' + entry + '</li>';\r\n            });\r\n\r\n            $('#info_upload').removeClass('alert alert-success');\r\n            $('#info_upload').addClass('alert alert-danger');\r\n            $('#info_upload').html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> Verifique os erros abaixo</p>');\r\n            $('#info_upload').delay(3000).fadeOut(800,function(){\r\n                $('#info_upload_erro').html('<ul class=\"alert alert-danger list-unstyled\">' + li + '</ul>');\r\n                $('#info_upload_erro').delay(5000).fadeOut(600);\r\n            });\r\n\r\n        }\r\n    });\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  UploadValidar\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction PDFValidar(url) {\r\n    alert('aqui');\r\n    $('#upload').fileupload({\r\n        url: url,\r\n        dataType: 'json',\r\n        done: function (e, data) {\r\n            console.log(data);\r\n            $.each(data.result.files, function (index, file) {\r\n                $('<p/>').text(file.name).appendTo('#files');\r\n            });\r\n        },\r\n        progressall: function (e, data) {\r\n            var progress = parseInt(data.loaded / data.total * 100, 10);\r\n            $('#progress .progress-bar').css(\r\n                'width',\r\n                progress + '%'\r\n            );\r\n        }\r\n    });\r\n    /*$('#upload').ajaxForm({\r\n     uploadProgress: function(event, position, total, percentComplete) {\r\n     $('progress').attr('value',percentComplete);\r\n     $('#porcentagem').html(percentComplete+'%');\r\n     },\r\n     success: function(data) {\r\n     $('progress').attr('value','100');\r\n     $('#porcentagem').html('100%');\r\n     if(data.sucesso == true){\r\n     $('#resposta').html('<img src=\"'+ data.msg +'\" />');\r\n     $('#info_upload').removeClass('alert alert-danger');\r\n     $('#info_upload').addClass('alert alert-success');\r\n     $('#info_upload').html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> Verificando dados para enviar para o seu carrinho. Por favor aguarde...</p>');\r\n\r\n     //$('#info_upload').delay(3000).fadeOut(800, function() {\r\n     //    return UploadSubmeter(obj.loadurl);\r\n     //});\r\n     }\r\n     else{\r\n     $('#resposta').html(data.msg);\r\n     console.log(obj);\r\n\r\n     $('#info_upload').removeClass('alert alert-success');\r\n     $('#info_upload').addClass('alert alert-danger');\r\n     $('#info_upload').html('<p class=\"text-muted\"><i class=\"fa fa-lg fa-user-md on-left\"></i> ' + obj.erro + '</p>');\r\n     $('#info_upload').delay(6000).fadeOut(800);\r\n     }\r\n     },\r\n     error : function(){\r\n     $('#resposta').html('Erro ao enviar requisição!!!');\r\n     },\r\n     dataType: 'json',\r\n     url: 'enviar_arquivo.php',\r\n     resetForm: true\r\n     }).UploadSubmeter(url);\r\n     // var formulario = $('#upload').serializeArray();\r\n     //alert(formulario);\r\n     /*$.post(url, formulario, function(data) {\r\n     var obj = JSON.parse(data);\r\n     if (obj.status === 'success') {\r\n\r\n     } else {\r\n\r\n\r\n     }\r\n     });*/\r\n\r\n    // Change this to the location of your server-side upload handler:\r\n    alert(url);\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  UploadSubmeter\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction UploadSubmeter(url) {\r\n    $('#upload').attr('action', url);\r\n    $('#upload').attr('method', 'post');\r\n    alert(url);\r\n    //$('#upload').submit();\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  FreteOrcamento\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction FreteOrcamento() {\r\n    $('input[name=\"vl_frete\"]').attr('checked', false);\r\n    $('#resultado').fadeOut('fast');\r\n    $('#especificacoes_selecionada').fadeOut('fast');\r\n    $('#wait').css('display', 'block');\r\n    if ($.trim($(\"#orc_cep\").val()) !== \"\") {\r\n        CEP = $(\"#orc_cep\").val();\r\n        peso = $('#orc_peso').val();\r\n        //alert(peso);\r\n        $('#orc_peso_frete').val(peso);\r\n        var formulario = $('#correio').serializeArray();\r\n        var url = \"calcula_frete/\" + CEP;\r\n        $.post(url, formulario, function(data) {\r\n            var obj = JSON.parse(data);\r\n            if (peso > 30) {\r\n                $('#info_correio').addClass('alert alert-info');\r\n                $('#info_correio').html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> Carrinho com produto acima de 30KG: \"<b>Somente Transportadora ou Retirada na loja.</b>\"</p>');\r\n                labelsedex = \"R$ \" + '999999,99';\r\n                $('#vl_sedex').html(labelsedex);\r\n                $('#frete_sedex').val('0.00');\r\n\r\n                $('#mensagens').slideDown('slow');\r\n                $('#mensagens').delay(5000).slideUp('500', function() {                    //\r\n                    $('#wait').fadeOut('slow');\r\n                    $('#info_correio').removeClass('alert alert-info');\r\n                    $('#resultado').css('display', 'block');\r\n                    $('#desconto').css('display', 'block');\r\n                });\r\n                return false;\r\n            }\r\n            if (obj.erro) {\r\n                $('#info_correio').addClass('alert alert-danger');\r\n                $('#info_correio').html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> Por favor observe a mensagem do correio: \"<b>' + obj.mensagem[0] + '</b>\"</p>');\r\n                $('#mensagens').slideDown('slow');\r\n                $('#mensagens').delay(5000).slideUp('500', function() {                    //\r\n                    $('#wait').fadeOut('slow');\r\n                    $('#info_correio').removeClass('alert alert-danger');\r\n                    $('#orc_cep').focus();\r\n                });\r\n                return false;\r\n            }\r\n\r\n            if (obj.mensagem !='') {\r\n                $('#info_correio').addClass('alert alert-info');\r\n                $('#info_correio').html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> Frete zero para o seu estado.</p>');\r\n                labelsedex = \"R$ \" + '0,00';\r\n                $('#vl_sedex').html(labelsedex);\r\n                $('#frete_sedex').val('0.00');\r\n                $('#mensagens').slideDown('slow');\r\n                $('#mensagens').delay(5000).slideUp('500', function() {                    //\r\n                    $('#wait').fadeOut('slow');\r\n                    $('#info_correio').removeClass('alert alert-info');\r\n                    $('#resultado').css('display', 'block');\r\n                });\r\n                return false;\r\n            } else {\r\n                $('#info_correio').addClass('alert alert-info');\r\n                $('#info_correio').html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> Sucesso! Escolha uma forma de envio para prosseguir.</p>');\r\n                sedex = parseFloat(obj.SEDEX[0]) + 5;\r\n                labelsedex = sedex.toFixed(2);\r\n                labelsedex = labelsedex.replace('.', ',');\r\n                labelsedex = \"R$ \" + labelsedex;\r\n                $('#vl_sedex').html(labelsedex);\r\n                $('#frete_sedex').val(sedex.toFixed(2));\r\n                $('#mensagens').slideDown('slow');\r\n                $('#mensagens').delay(5000).slideUp('500', function() {                    //\r\n                    $('#wait').fadeOut('slow');\r\n                    $('#info_correio').removeClass('alert alert-info');\r\n                    $('#resultado').css('display', 'block');\r\n                });\r\n            }\r\n        });\r\n    }else {\r\n        $('#info_correio').addClass('alert alert-danger');\r\n        $('#info_correio').html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> Por favor informe o CEP de destino</p>');\r\n        $('#mensagens').slideDown('slow');\r\n        $('#mensagens').delay(5000).slideUp('500', function() {\r\n            $('#orc_cep').focus();\r\n            //$('#desconto').css('display', 'block');\r\n            $('#wait').fadeOut('slow');\r\n            $('#info_correio').removeClass('alert alert-danger');\r\n        });\r\n    }\r\n}\r\n\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  SetaFrete\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction SetaFrete(tipo, id) {\r\n    $('#label_frete').css('display', 'none');\r\n    vl_frete = +$('#' + id).val();\r\n    //alert(vl_frete);\r\n    perc_desconto = $('#perc_desconto').val();\r\n    //alert(perc_desconto);\r\n    orc_pacote_valor = $('#orc_pacote_valor').val();\r\n    pacote_valor = orc_pacote_valor.replace(\"R$ \", \"\");\r\n    valor = pacote_valor.replace(\",\", \".\");\r\n    //alert(valor);\r\n    acao = $('#cupom_frete').attr('data-acao');\r\n    vl_final = $('#orc_vl_frete').val(vl_frete);\r\n    //alert(vl_final);\r\n    $('#vl_final').text($('#orc_pacote_valor').val());\r\n    $('#orc_tipo_frete').val(tipo);\r\n    $('#vl_frete_escolhido').val('R$ ' + $('#' + id).val());\r\n    $('#escolha_frete').html('R$ ' + $('#' + id).val());\r\n    //$('#btn-opcoes').slideDown('slow');\r\n    $('#label_frete').fadeIn(500);\r\n    //SetaBtnAcao(acao);\r\n    soma = (+valor - +(valor*perc_desconto)) + vl_frete;\r\n    $('#vl_desc_final').html('R$ ' +((valor*perc_desconto).toFixed(2)).replace('.', ','));\r\n    $('#orc_desconto_valor').val(valor*perc_desconto);\r\n    $('#vl_total_final').html('R$ ' + (soma.toFixed(2)).replace('.', ','));\r\n    $('#especificacoes_selecionada').slideDown('slow');\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  Seta o Botão específico para dar continuidade ao processo\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction SetaBtnAcao(acao) {\r\n    $('#label_frete').fadeIn(500);\r\n    if (acao === 'imprimir') {\r\n        $('#btn-imprimir').css('display', 'block');\r\n    } else if (acao === 'personalizar') {\r\n        $('#btn-personalizar').css('display', 'block');\r\n    } else {\r\n        $('#btn-enviar').css('display', 'block');\r\n    }\r\n}\r\n\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  IMPRIMIR ORÇAMENTO\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction ImprimirOrcamento(guest) {\r\n    if (guest === '1') {//ESTÁ LOGADO\r\n        $('#logar').slideUp('fast');\r\n        var action = 'orcamento.html';\r\n        $('#form_orcamento').attr('action', action);\r\n        $('#form_orcamento').attr('method', 'post');\r\n        token = $('#especificacoes_selecionada').attr('data-token');\r\n        $('.token').val(token);\r\n        $('#mensagem_form_orcamento').addClass('alert alert-success');\r\n        $('#mensagem_form_orcamento').html('<p class=\"fg-black\"><i class=\"icon-smiley on-left\"></i> Aguarde enquanto estamos redirecionando...</p>');\r\n        $('#mensagem_form_orcamento').fadeIn(400);\r\n        $('#mensagem_form_orcamento').delay(4000).fadeOut(400, function() {\r\n            $('#form_orcamento').submit();\r\n        });\r\n        $('#cupom_frete').slideDown('slow');\r\n    } else {\r\n        $('#logar').slideDown('fast');\r\n    }\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  PDF\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction PDF(guest,route) {\r\n    $('#cupom_frete').css('display', 'none');\r\n    $('#resultado').css('display', 'none');\r\n    $('#btn-opcoes').css('display', 'none');\r\n    $('#btn-encerrar').attr('title','Personalize o produto com seu desenho');\r\n    $('#btn-imprimir').css('display', 'none');\r\n    $('#btn-personalizar').css('display', 'none');\r\n    $('#btn-enviar').css('display', 'none');\r\n    $('#cupom_frete').attr('data-acao', 'pdf');\r\n    var produto = $('#orc_subcategoria_id').val();\r\n    if (guest === '1') {\r\n        $('#logar').slideUp('fast');\r\n        var action = route;\r\n        //var action = 'produtos/enviarpdf.html';\r\n        $('#form_orcamento').attr('action', action);\r\n        $('#form_orcamento').attr('method', 'post');\r\n        token = $('#especificacoes_selecionada').attr('data-token');\r\n        $('.token').val(token);\r\n        $('#mensagem_form_orcamento').addClass('alert alert-success');\r\n        $('#mensagem_form_orcamento').html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> Aguarde enquanto estamos redirecionando...</p>');\r\n        $('#mensagem_form_orcamento').fadeIn(400);\r\n        $('#mensagem_form_orcamento').delay(4000).fadeOut(400, function() {\r\n            $('#form_orcamento').submit();\r\n        });\r\n        $('#cupom_frete').slideDown('slow');\r\n    } else {\r\n        $('#logar').slideDown('fast');\r\n    }\r\n\r\n}\r\nfunction Encerrar() {\r\n    $('#info_encerrar').addClass('alert alert-success');\r\n    $('#info_encerrar').html('<p class=\"fg-black\"><i class=\"icon-smiley on-left\"></i> Aguarde enquanto estamos redirecionando...</p>');\r\n    $('#info_encerrar').fadeIn(400);\r\n    $('#info_encerrar').delay(4000).fadeOut(400, function() {\r\n        $('#form_orcamento').submit();\r\n    });\r\n}\r\nfunction SolicitarOrcamento() {\r\n    $('#info_correio').html('<p class=\"text-warning\">Aguarde enquanto redirecionamos para seu orçamento ...</p>');\r\n    $('#info_correio').fadeIn(400);\r\n    $('#info_correio').delay(4000).fadeOut(400, function() {\r\n        var action = 'orcamento.html';\r\n        $('#form_orcamento').attr('action', action);\r\n        $('#form_orcamento').attr('method', 'post');\r\n        $('#form_orcamento').submit();\r\n    });\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  Desconto\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction Desconto(id, cart) {\r\n//identificar o valor do frete escolhido (38,35)\r\n    var valor_escolhido = $('#vl_frete_escolhido').val();\r\n    var forma_pagamento = $('#payment_id' + id).text();\r\n    //substitui a virgula por ponto\r\n    var frete = +valor_escolhido.replace(\",\", \".\");\r\n    //alert('FRETE '+frete);\r\n    //carrinho\r\n    var carrinho = +cart;\r\n    $('#forma_pagamento').val(forma_pagamento);\r\n    $('#forma_pagamento_id').val(id);\r\n    //fixa em 2 digitos a casa decimal\r\n    //alert('CARRINHO '+carrinho);\r\n    //desconto\r\n    /* var vl_discount_avista = (+vl_desconto).toFixed(2);\r\n     //alert('DESCONTO '+vl_desconto);\r\n     //calculos\r\n     //var vl_discount_avista = (vl_discount_avista*carrinho).toFixed(2);\r\n     var totalgeral = +(carrinho + frete - vl_discount_avista).toFixed(2);\r\n     //alert('TOTAL '+totalgeral);\r\n     //seta os valores\r\n     $('#descontos').html('R$ ' + parseFloat(vl_discount_avista));\r\n     $('#totalgeral').html('R$ ' + (parseFloat(totalgeral)));\r\n     //seta os valores para o form\r\n     $('#discount_avista_id').val(discount_id);\r\n     $('#vl_discount_avista').val(vl_discount_avista);\r\n     $('#forma_pagamento').val(discount_id);*/\r\n}\r\n\r\n/*\r\n *******************************************************\r\n ***   script para controle da página de carrinho    ***\r\n *******************************************************\r\n */\r\nfunction ValidaCarrinho(whoo, URL){\r\n    //alert('aqui');\r\n    var vl_frete = $('#vl_frete_escolhido').val();\r\n    var tipo_frete = $('#tipo_frete').val();\r\n    var forma_pagamento = $('#forma_pagamento').val();\r\n    //overlay('on', whoo);\r\n    $('#mensagem_' + whoo).html('');\r\n    $('#info_' + whoo).html('');\r\n    var mensagem = '';\r\n    if (vl_frete === '' || tipo_frete === '' || forma_pagamento === '') {\r\n        mensagem += 'Escolha um tipo de pagamento para continuar.\\n';\r\n        if (forma_pagamento === '') {\r\n            mensagem += 'Escolha um tipo de frete para continuar.\\n';\r\n        }\r\n        $('#mensagem_' + whoo).html('');\r\n        $('#info_' + whoo).html('');\r\n        //overlay('on', whoo);\r\n        $('#mensagem_' + whoo).addClass('alert alert-warning');\r\n        $('#mensagem_' + whoo).html('ERRO!');\r\n        $('#mensagem_' + whoo).delay(2000).fadeOut(800, function() {\r\n            //$('#enviando_' + whoo).delay(1000).fadeOut(500);\r\n            $('#info_' + whoo).addClass('alert alert-info');\r\n            $('#info_' + whoo).html('<p class=\"fg-black\"><i class=\"icon-smiley on-left\"></i> Por favor! Para prosseguir é necessário o valor do frete, o tipo de frete e a forma de pagamento.</p>');\r\n            $('#' + whoo).css({\r\n                opacity: 1\r\n            });\r\n        });\r\n        $('#info_' + whoo).delay(2000).fadeOut(800);\r\n\r\n    } else {\r\n\r\n        $('#' + whoo).css({\r\n            opacity: 1\r\n        });\r\n        $('#mensagem_' + whoo).html('');\r\n        $('#info_' + whoo).html('');\r\n        $('#mensagem_' + whoo).addClass('alert alert-success');\r\n        $('#info_' + whoo).addClass('alert alert-info');\r\n        $('#mensagem_' + whoo).html('SUCESSO');\r\n        $('#info_' + whoo).html('<p class=\"fg-black\"><i class=\"icon-smiley on-left\"></i>Redirecionando para resumo do pedido.</p>');\r\n        $('#info_' + whoo).slideUp(600);\r\n        $('#' + whoo).attr('action', URL);\r\n        $('#mensagem_' + whoo).delay(2000).fadeOut(800, function() {\r\n            $('#' + whoo).submit();\r\n        });\r\n    }\r\n}\r\n/*\r\n *******************************************************\r\n ***   script para controle de tiens do carrinho    ***\r\n *******************************************************\r\n */\r\nfunction AtualizarCarrinho(product){\r\n    var qtd = document.getElementById(product).value;\r\n    //var formulario = document.getElementById('quantidade' + product);\r\n    if (qtd === 0)\r\n    {\r\n        alert('Por favor informe uma quantidade maior que zero');\r\n        return false;\r\n    } else {\r\n        $.get('basket/atualizar', {'quantity': qtd, 'product_id': product}, function(result) {\r\n            console.log(result);\r\n            var obj = JSON.parse(result);\r\n            if (obj.action === true) {\r\n                $('#info_carrinho').html('<p class=\"text-info\">' + obj.info + '</p>');\r\n            } else {\r\n                $('#info_carrinho').html('<p class=\"text-warning\">' + obj.info + '</p>');\r\n            }\r\n            $('#info_carrinho').delay(5000).fadeIn('slow');\r\n        });\r\n    }\r\n    //formulario.submit();\r\n}\r\nfunction RemoverItem(product){\r\n    $.get('basket/remover', {'product_id': product}, function(result) {\r\n        console.log(result);\r\n        var obj = JSON.parse(result);\r\n\r\n        if (obj.reload === 'true') {\r\n            //alert(obj.reload);\r\n            $('#info_carrinho').html('<div class=\"alert alert-info\" role=\"alert\"><p class=\"text-warning\">' + obj.info + ' <img src=\"images/img/loader.gif\" /></p></div>');\r\n            $('#info_carrinho').slideDown(600);\r\n            //slideUp(600)\r\n            $('#info_carrinho').delay(5000).slideUp(600, function() {\r\n                document.location.href = 'basket.html'\r\n            });\r\n        } else {\r\n            $('#info_carrinho').html('<div class=\"alert alert-warning\" role=\"alert\"><p class=\"text-warning\">' + obj.info + ' <img src=\"images/img/loader.gif\" /></p></div>');\r\n            $('#info_carrinho').slideUp(700);\r\n        }\r\n\r\n    });\r\n\r\n}\r\n\r\nfunction ValidaCaixa(whoo){\r\n    VerificaConcorde(whoo);\r\n    $('#mensagem_' + whoo).html('');\r\n    $('#info_' + whoo).html('');\r\n    var formulario = $('#' + whoo).serializeArray();\r\n    var url_validacao = $('#' + whoo).attr('action');//'loja/validacaixa';\r\n    $.post(url_validacao, formulario, function(data) {\r\n        console.log(data);\r\n        var obj = JSON.parse(data);\r\n        //alert(obj.loadurl);\r\n        if (obj.status === 'fail') {\r\n            $('#mensagem_' + whoo).addClass('alert alert-warning');\r\n            $('#mensagem_' + whoo).html(obj.info);\r\n            $('#info_' + whoo).addClass('alert alert-info');\r\n            $('#info_' + whoo).html('<p class=\"fg-black\"><i class=\"icon-smiley on-left\"></i><strong>' + obj.erro + '</strong></p>');\r\n            $('#info_' + whoo).delay(5000).fadeOut(800);\r\n        }\r\n        else {\r\n            //$('#mensagem_' + whoo).addClass('alert alert-success');\r\n            $('#info_' + whoo).addClass('alert alert-success');\r\n            //$('#mensagem_' + whoo).html('<p class=\"fg-black\"><i class=\"icon-smiley on-left\"></i>SUCESSO</p>');\r\n            $('#info_' + whoo).html('<p class=\"fg-black\"><i class=\"icon-smiley on-left\"></i>'+obj.info+'</p>');\r\n            $('#' + whoo).attr('action', obj.loadurl);\r\n            $('#mensagem_' + whoo).delay(2000).fadeOut(800, function() {\r\n                $('#' + whoo).submit();\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\n/*******************************************************\r\n ***     script para controle da página de resumo    ***\r\n *******************************************************\r\n */\r\nfunction VerificaConcorde(whoo) {\r\n    if (!$(\"#agree\").is(':checked')) {\r\n        $('#mensagem_' + whoo).addClass('alert alert-warning');\r\n        $('#mensagem_' + whoo).html('ERRO!');\r\n        $('#info_' + whoo).addClass('alert alert-info');\r\n        $('#info_' + whoo).html('<p class=\"fg-black\"><i class=\"icon-smiley on-left\"></i>Por favor! <strong>É necessário o concorde dos dados apresentados.</strong></p>');\r\n        $('#mensagem_' + whoo).delay(3000).fadeOut(400);\r\n        $('#info_' + whoo).delay(5000).fadeOut(800);\r\n        return false;\r\n    }\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  Carregar os dados para fazer upload\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction ValidarFormEdicao() {\r\n    var envia = false;\r\n    var $formulario = $('#form_edicao').serializeArray();\r\n    $.post('editor/validar', $formulario, function(data) {\r\n        //console.log(data);\r\n        var obj = JSON.parse(data);\r\n        //console.log(data);\r\n        if (obj.status === 'ok') {\r\n            alert('eu agora vou chamar a ;função que faz uploads');\r\n            var envia = true;\r\n        }\r\n    });\r\n    //if(envia){\r\n    PreparaUpload('img3');\r\n    //}\r\n    //$formulario.attr('action', 'editor/carregar');\r\n    //$formulario.submit();\r\n}\r\n\r\nfunction PreparaUpload(midia) {\r\n    var $fileupload = $('#' + midia);\r\n    $upload_success = $('#upload-success');\r\n    $fileupload.fileupload({\r\n        url: 'editor/upload',\r\n        formData: {_token: $fileupload.data('token'), arquivo: midia},\r\n        progressall: function(e, data) {\r\n            var progress = parseInt(data.loaded / data.total * 100, 10);\r\n            $('#progress .progress-bar').css(\r\n                'width',\r\n                progress + '%'\r\n            );\r\n        },\r\n        done: function(e, data) {\r\n            console.log(data);\r\n            $upload_success.removeClass('hide').hide().slideDown('fast');\r\n            setTimeout(function() {\r\n                location.reload();\r\n            }, 2000);\r\n        }\r\n    });\r\n}\r\n/*\r\n *******************************************************\r\n ***   script para controle da cupom    ***\r\n *******************************************************\r\n */\r\nfunction ValidaCupom(whoo, URL, check){\r\n    if(check === '0'){\r\n        $('#especificacoes_envio').slideUp('low');\r\n        $('#logar').slideDown('fast');\r\n        return false;\r\n    }\r\n\r\n    $('#btn-validar').attr('disabled', 'false');\r\n//$('#btn_cupom_confirmar').css('display', 'none');\r\n    $('#mensagem_' + whoo).html('');\r\n    $('#info_' + whoo).html('');\r\n    $('#mensagem_' + whoo).removeClass('alert alert-danger');\r\n    $('#info_' + whoo).removeClass('alert alert-info');\r\n\r\n    var formulario = $('#' + whoo).serializeArray();\r\n    console.log(formulario);\r\n    $.post(URL, formulario, function(data) {\r\n        var obj = JSON.parse(data);\r\n        console.log(data);\r\n        if (obj.status === 'fail') {\r\n            $('#info_' + whoo).html('');\r\n            //overlay('on', whoo);\r\n            $('#mensagem_' + whoo).addClass('alert alert-danger');\r\n            //$('#mensagem_' + whoo).html('ERRO!');\r\n            $('#mensagem_' + whoo).delay(2000).fadeOut(500);\r\n            //$('#enviando_' + whoo).delay(1000).fadeOut(500);\r\n            $('#info_' + whoo).addClass('alert alert-danger');\r\n            var li = '';\r\n            obj.erro.forEach(function(entry) {\r\n                li += '<li>' + entry + '</li>';\r\n            });\r\n            $('#info_' + whoo).html('<ul class=\"list-unstyled text-muted\">' + li + '</ul>');\r\n            $('#discount_code').focus();\r\n            $('#info_' + whoo).delay(3000).fadeOut(800);\r\n            $('#btn-validar').attr('disabled', false);\r\n\r\n        } else {\r\n            $('#btn-validar').attr('disabled', true);\r\n            var vl_discount_cupom = obj.config[1].discount_values;\r\n            $('#mensagem_' + whoo).removeClass('alert alert-danger');\r\n            $('#mensagem_' + whoo).addClass('alert alert-info');\r\n            $('#info_' + whoo).addClass('alert alert-success');\r\n            $('#info_' + whoo).html('<p class=\"text-muted\">'+obj.info+'</p>');\r\n            $('#mensagem_' + whoo).html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> Seu desconto aparecerá no resumo do seu pedido.</p>');\r\n            $('#perc_desconto').val(vl_discount_cupom);\r\n            $('#mensagem_' + whoo).slideDown('fast');\r\n            $('#mensagem_' + whoo).delay(4000).fadeOut(600, function() {\r\n                $('#info_' + whoo).fadeOut(400);\r\n            });\r\n        }\r\n    });\r\n}\r\n/*\r\n **********************************************************\r\n ***script para controle da confirmação do uso do cupom ***\r\n **********************************************************\r\n */\r\nfunction UsaCupom(cupom){\r\n    //var vl_frete = +($(\"#vl_frete\").val());\r\n    //var vl_discount_avista = $(\"#vl_discount_avista\").val();\r\n    //var vl_discount_cupom = cupom.vl_desconto_cupom;\r\n    //var total_geral = cupom.total_compra - vl_discount_avista - vl_discount_cupom + vl_frete;\r\n    //atualiza o form\r\n    // $('#vl_discount_cupom').val(vl_discount_cupom);\r\n    // $('#str_vl_discount_cupom').html('R$ ' + vl_discount_cupom);\r\n    // $('#total_geral').html('R$ ' + total_geral);\r\n    // $('#ModalCupom').modal('hide');\r\n\r\n    return false;\r\n}\r\n\r\n/*\r\n *******************************************************\r\n ***     script para controle da página de Checkout    ***\r\n *******************************************************\r\n */\r\nfunction chamar_gateway() {\r\n\r\n    GerarPedido('formpedido');\r\n}\r\n/*-----------------------------------------------------------------------------------*/\r\n/*  controla A GERAÇÃO DE UM NOVO PEDIDO\r\n /*-----------------------------------------------------------------------------------*/\r\nfunction GerarPedido(whoo) {\r\n    // orc_desconto_valor = $('#orc_desconto_valor').val();\r\n    //$('#discount_cupom').val(orc_desconto_valor);\r\n    var url = $('#' + whoo).attr('action');\r\n    var formulario = $('#' + whoo).serializeArray();\r\n    $.post(url, formulario, function(data) {\r\n        console.log(data);\r\n        var obj = JSON.parse(data);\r\n        if (obj.status === 'fail') {\r\n            CheckOutFail(obj, whoo);\r\n        } else {\r\n            CheckOutSucess(obj, whoo);\r\n        }\r\n\r\n    });\r\n}\r\n/*\r\n **  Erros do checkout **\r\n */\r\nfunction CheckOutFail(obj, whoo) {\r\n    $('#mensagem_' + whoo).html('');\r\n    $('#info_' + whoo).html('');\r\n    $('#mensagem_' + whoo).addClass('alert alert-danger');\r\n    $('#mensagem_' + whoo).html('ERRO!');\r\n    $('#mensagem_' + whoo).delay(8000).fadeOut(600, function() {\r\n        $('#info_' + whoo).addClass('alert alert-info');\r\n        $('#info_' + whoo).html('<p class=\"fg-black\"><i class=\"icon-smiley on-left\"></i>Por favor! Não foi possível fazer o requerimento.</p>');\r\n        $('#info_' + whoo).fadeOut('800');\r\n        $('#info_' + whoo).fadeOut('800');\r\n    });\r\n}\r\nfunction CheckOutSucess(obj, whoo) {\r\n    console.log(obj);\r\n    var submeter = obj.submeter;\r\n\r\n    $('#fase1_' + whoo).fadeIn(600);\r\n    $('#fase2_' + whoo).delay(3000).fadeIn(600);\r\n    $('#fase3_' + whoo).delay(6000).fadeIn(600);\r\n    $('#fase1_' + whoo).delay(9000).fadeOut(400, function() {\r\n        if(submeter){\r\n            CheckoutSubmeter(obj, 'formcheckout');\r\n        }else {\r\n            alert('sdsdjjs');\r\n        }\r\n    });\r\n\r\n}\r\n\r\n/*\r\n **  Acessa checkout externo **\r\n */\r\nfunction CheckoutSubmeter(obj, form_interno) {\r\n    var neworder_Id = obj.neworder_Id;\r\n    //$('#order_id').val(neworder_Id);\r\n    $('#id_pedido').val(neworder_Id);\r\n    $('#processamento_info').slideUp('slow',function(){\r\n        $('#processamento_finalizado').slideDown('fast');\r\n        $('#'+form_interno).attr('method', obj.metodo);\r\n        $('#'+form_interno).attr('action', obj.url_externa);\r\n        $('#neworder_Id').html(neworder_Id);\r\n    });\r\n    setTimeout(function(){\r\n        $('#'+form_interno).submit()\r\n    },10000);\r\n\r\n}\r\n\r\n/*\r\n ******************************************************\r\n *********** script para controle de email ************\r\n ******************************************************\r\n */\r\nfunction EmailEnviar(whoo, URL){\r\n    var formulario = $('#' + whoo).serializeArray();\r\n\r\n    $('#' + whoo).css({\r\n        opacity: 0.2\r\n    });\r\n    $.post(URL, formulario, function(data) {\r\n        console.log(data);\r\n        $('#enviando_' + whoo).delay(4000).fadeOut(200);\r\n        var obj = JSON.parse(data);\r\n        if (obj.status === 'fail') {\r\n            $('#mensagem_' + whoo).html('');\r\n            $('#info_' + whoo).html('');\r\n            $('#mensagem_' + whoo).removeClass('alert alert-success');\r\n            $('#mensagem_' + whoo).addClass('alert alert-danger');\r\n            $('#mensagem_' + whoo).html('ERRO! Verifique abaixo');\r\n            $('#mensagem_' + whoo).delay(3000).fadeOut(500);\r\n            //$('#info_' + whoo).addClass('infomsg alert');\r\n            var li = '';\r\n            obj.erro.forEach(function(entry) {\r\n                li += '<li><small>' + entry + '</small></li>';\r\n            });\r\n\r\n            $('#info_' + whoo).html('<ul>' + li + '</ul>');\r\n            $('#info_' + whoo).delay(8000).fadeOut(200);\r\n            $('#' + whoo).css({\r\n                opacity: 1\r\n            });\r\n        } else {\r\n            $('#' + whoo).css({\r\n                opacity: 1\r\n            });\r\n            $('#mensagem_' + whoo).removeClass('alert alert-danger');\r\n            $('#mensagem_' + whoo).addClass('alert alert-success');\r\n            $('#mensagem_' + whoo).html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> SUCESSO! Email encaminhado.</p>');\r\n            $('#mensagem_' + whoo).show();\r\n            console.log(data);\r\n            var obj = JSON.parse(data);\r\n            $('#mensagem_' + whoo).delay(3000).fadeOut(200, function() {\r\n\r\n                $.each(obj, function(k, v) {\r\n                    if (k == 'info') {\r\n                        alert(v);\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        console.log(data);\r\n    });\r\n}\r\nfunction EmailOrcamentoEnviar(whoo, orcamento){\r\n    var orcamento = $('#data_orcamento').data('orcamento');\r\n    if(orcamento === 'pass'){\r\n        $('#mensagem_' + whoo).html('');\r\n        $('#info_' + whoo).html('');\r\n        $('#mensagem_' + whoo).removeClass('alert alert-danger');\r\n        $('#mensagem_' + whoo).addClass('alert alert-success');\r\n        $('#mensagem_' + whoo).html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> SUCESSO! Email encaminhado.</p>');\r\n\r\n    }else{\r\n\r\n        $('#mensagem_' + whoo).html('');\r\n        $('#info_' + whoo).html('');\r\n        $('#mensagem_' + whoo).removeClass('alert alert-success');\r\n        $('#mensagem_' + whoo).addClass('alert alert-danger');\r\n        $('#mensagem_' + whoo).html('<p class=\"text-muted\"><i class=\"icon-smiley on-left\"></i> ERRO! Infelizmente não pudemos enviar o email.</p>');\r\n    }\r\n    $('#mensagem_' + whoo).delay(4000).slideDown('slow');\r\n    $('#mensagem_' + whoo).delay(5000).fadeOut(500);\r\n}\r\n\r\n/*\r\n ******************************************************\r\n ********* fim script para controle de email **********\r\n ******************************************************\r\n */"],"sourceRoot":"/source/"}